<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Video Player Demo</title>
        <link rel="stylesheet" type="text/css" href="../lib/infusion/framework/fss/css/fss-layout.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/framework/fss/css/fss-text.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-bw-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-wb-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-by-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-yb-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-text-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/FatPanelUIOptions.css" />

        <link type="text/css" href="../lib/jquery-ui/css/ui-lightness/jquery-ui-1.8.14.custom.css" rel="stylesheet" />
        <link type="text/css" href="../css/VideoPlayer.css" rel="stylesheet" />
        <link type="text/css" href="../lib/captionator/css/captions.css" rel="stylesheet" />

        <!-- Fluid and jQuery Dependencies -->
        <script type="text/javascript" src="../lib/infusion/MyInfusion.js"></script>
        <!-- Utils -->
        <script type="text/javascript" src="../lib/jquery-ui/js/jquery.ui.button.js"></script>
        <script type="text/javascript" src="../lib/captionator/js/captionator.js"></script>
        <!--[if lt IE 9]>
            <script type="text/javascript" src="../js/HTML5-backcompat.js"></script>
        <![endif]-->
        <!-- VideoPlayer dependencies -->
        <script type="text/javascript" src="../js/VideoPlayer_framework.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_html5Captionator.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_controllers.js"></script>
        <script type="text/javascript" src="../js/ToggleButton.js"></script>
        <script type="text/javascript" src="../js/MenuButton.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_media.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_transcript.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_intervalEventsConductor.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_uiOptions.js"></script>

        </head>
    <body>
        <script>
            fluid.pageEnhancer({
                tocTemplate: "../lib/infusion/components/tableOfContents/html/TableOfContents.html"
            });
        </script>

        <div class="flc-uiOptions fl-uiOptions-fatPanel">
            <div class="flc-slidingPanel-panel flc-uiOptions-iframe"></div>
            <div class="fl-panelBar">
                <button class="flc-slidingPanel-toggleButton fl-toggleButton">Show/Hide</button>
            </div>
        </div>
        <div class="flc-toc-tocContainer"> </div>

        <h1>Infusion HTML 5 Video Player</h1>

        <div class="videoPlayer fl-videoPlayer">
            
        </div>

        <script>
            var uiOptions = fluid.uiOptions.fatPanel(".flc-uiOptions", {
                prefix: "../lib/infusion/components/uiOptions/html/",
                components: {
                    relay: {
                        type: "fluid.videoPlayer.relay"
                    }
                }
            });

            var videoOptions = {container: ".videoPlayer", options: {
                video: {
                    sources: [
                        {
                            src: "videos/ReorganizeFuture/ReorganizeFuture.mp4",
                            type: "video/mp4"
                        },
                        {
                            src: "videos/ReorganizeFuture/ReorganizeFuture.webm",
                            type: "video/webm"
                        },
                        {
                            src: "http://www.youtube.com/v/_VxQEPw1x9E&hl=en&fs=1",
                            type: "youtube"
                        }
                    ],
                    captions: [
                        {
                            src: "http://www.universalsubtitles.org/api/1.0/subtitles/?video_url=http://www.youtube.com/watch?v=_VxQEPw1x9E&language=en",
                            type: "jsonp/vtt",
                            srclang: "en",
                            label: "English",
                        },
                        {
                            src: "videos/ReorganizeFuture/ReorganizeFuture.fr.vtt",
                            type: "text/vtt",
                            srclang: "fr",
                            label: "French",
                        }
                    ],
                    transcripts: [
                        {
                            // TO TEST the transcript processing of Universal Subtitles files for transcripts,
                            // substititute the following two lines
                            // src: "http://www.universalsubtitles.org/api/1.0/subtitles/?video_url=http://www.youtube.com/watch?v=_VxQEPw1x9E&language=en",
                            // type: "jsonp/vtt",

                            src: "videos/ReorganizeFuture/ReorganizeFuture.transcripts.en.json",
                            type: "JSONcc",
                            srclang: "en",
                            label: "English",
                        },
                        {
                            src: "videos/ReorganizeFuture/ReorganizeFuture.transcripts.fr.json",
                            type: "JSONcc",
                            srclang: "fr",
                            label: "French",
                        }
                    ]
                }
            }};
            fluid.videoPlayer.makeEnhancedInstances(videoOptions, uiOptions.relay);
        </script>
    </body>
</html>
