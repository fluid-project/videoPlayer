<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Video Player Demo</title>
        <link rel="stylesheet" type="text/css" href="../lib/infusion/framework/fss/css/fss-layout.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/framework/fss/css/fss-text.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-bw-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-wb-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-by-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-theme-yb-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/fss/fss-text-uio.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/lib/jquery/ui/css/fl-theme-wb/wb.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/lib/jquery/ui/css/fl-theme-bw/bw.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/lib/jquery/ui/css/fl-theme-by/by.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/lib/jquery/ui/css/fl-theme-yb/yb.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/components/uiOptions/css/FatPanelUIOptions.css" />

        
        <link type="text/css" href="../lib/jquery-ui/css/ui-lightness/jquery-ui-1.8.14.custom.css" rel="stylesheet" />
        <link type="text/css" href="../css/VideoPlayer.css" rel="stylesheet" />

        <!-- Fluid and jQuery Dependencies -->
        <script type="text/javascript" src="../lib/infusion/MyInfusion.js"></script>
        <!-- Utils -->
        <script type="text/javascript" src="../lib/jquery-ui/js/jquery.ui.button.js"></script>
        <!--[if lt IE 9]>
        	<script type="text/javascript" src="../js/HTML5-backcompat.js"></script>
        <![endif]-->      
        <!-- VideoPlayer dependencies -->
        <script type="text/javascript" src="../js/VideoPlayer.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_captionner.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_captionLoader.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_controllers.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_media.js"></script>
        <script type="text/javascript" src="../js/VideoPlayer_intervalEventsConductor.js"></script>

        </head>
    <body>
        <script>
            fluid.pageEnhancer({
                // Specify the default theme class name
                classnameMap: {
                    theme: {
                        "default": "fl-videoPlayer-theme"
                    }
                },
                tocTemplate: "../lib/infusion/components/tableOfContents/html/TableOfContents.html"
            });
        </script>

        <div class="flc-uiOptions fl-uiOptions-fatPanel">
            <div class="flc-slidingPanel-panel flc-uiOptions-iframe"></div>
            <div class="fl-panelBar">
                <button class="flc-slidingPanel-toggleButton fl-toggleButton">Show/Hide</button>
            </div>
        </div>
        <div class="flc-toc-tocContainer"> </div>

        <h1>Infusion HTML 5 Video Player</h1>

        <div class="videoPlayer fl-videoPlayer fl-videoPlayer-theme">
        	
        </div>

        <script>
            fluid.uiOptions.fatPanel(".flc-uiOptions", {
                prefix: "../lib/infusion/components/uiOptions/html/"
            });

            var vp = fluid.videoPlayer(".videoPlayer", {
                model: {
                    video: {
                        sources: [
                            {
                                src: "videos/ReorganizeFuture/ReorganizeFuture.mp4",
                                type: "video/mp4"
                            },
                            {
                                src: "videos/ReorganizeFuture/ReorganizeFuture.webm",
                                type: "video/webm"
                            },
                            {
                                src: "http://www.youtube.com/v/_VxQEPw1x9E&hl=en&fs=1",
                                type: "youtube"
                            }
                        ]
                    },
                    captions: {
                        sources: {
                            english: {
                                src: "videos/ReorganizeFuture/ReorganizeFuture.en.json",
                                type: "JSONcc"
                            }, 
                            francaise: {
                                src: "videos/ReorganizeFuture/ReorganizeFuture.fr.json",
                                type: "JSONcc"
                            }
                        },
                        currentTrack: "english",

                        // The following options (choices, names, selection) shouldn't be necessary.
                        // This is a temporary workaround for FLUID-4585
                        choices: [],
                        names: [],
                        // TODO: setting 'selection' to something other than 'none' is a workaround
                        //       for FLUID-4592: a default caption *must* be loaded for the
                        //       intervalEventsConductor to be created
                        selection: "english",

                        show: false,
                        conversionServiceUrl: "/videoPlayer/conversion_service/index.php",
                        maxNumber: 3,
                        track: undefined
                    }

                }
            });
        </script>
	</body>
</html>
